{"version":3,"file":"main.js","mappings":"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","sources":["webpack://jsproject/./src/scripts/MovingObject.js","webpack://jsproject/./src/scripts/bullet.js","webpack://jsproject/./src/scripts/PlayerJet.js","webpack://jsproject/./src/scripts/EnemyJet.js","webpack://jsproject/./src/index.js"],"sourcesContent":["class MovingObject {\r\n  constructor(x, y, texture) {\r\n    this.sprite = new PIXI.Sprite(texture);\r\n    this.sprite.anchor.set(0.5);\r\n    this.sprite.x = x;\r\n    this.sprite.y = y;\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    this.sprite.x = x;\r\n    this.sprite.y = y;\r\n  }\r\n\r\n  move(dx, dy) {\r\n    this.sprite.x += dx;\r\n    this.sprite.y += dy;\r\n  }\r\n}\r\n\r\nexport default MovingObject;\r\n","import MovingObject from \"./MovingObject\";\r\n\r\nclass Bullet extends MovingObject {\r\n  constructor(x, y, texture, direction, app, type) {\r\n    super(x, y, texture);\r\n    this.speed = 10;\r\n    this.direction = direction; // Add direction property\r\n    this.app = app; // Add app property\r\n    this.type = type;\r\n  }\r\n\r\n  move(dx, dy) {\r\n    super.move(dx, dy);\r\n    this.checkBounds();\r\n  }\r\n\r\n  // Update checkBounds to use this.app\r\n  checkBounds() {}\r\n}\r\n\r\nexport default Bullet;\r\n","import MovingObject from \"./MovingObject\";\r\nimport Bullet from \"./bullet\";\r\n\r\nclass PlayerJet extends MovingObject {\r\n  constructor(app, x, y, texture, playerBullets, score, hp) {\r\n    super(x, y, texture);\r\n    this.speed = 5;\r\n    this.app = app;\r\n    this.destroyed = false;\r\n    this.score = score;\r\n    this.playerBullets = playerBullets;\r\n    this.weaponLevel = 1; // default weapon level is 1\r\n    this.currentWeapon = null;\r\n    this.hp = hp;\r\n    this.invulnerable = false;\r\n    this.invulnerableDuration = 3000; // 3 seconds of invulnerability\r\n    this.blinkDuration = 200; // 200 milliseconds per blink\r\n    this.blinkInterval = null;\r\n    this.upgradeWeapon();\r\n    this.fireBullet();\r\n    this.hpElement = document.getElementById(\"hp\");\r\n    this.updateHP();\r\n  }\r\n  fireBullet() {\r\n    this.app.ticker.add(() => {\r\n      for (let i = this.playerBullets.length - 1; i >= 0; i--) {\r\n        const bullet = this.playerBullets[i];\r\n        if (bullet.type === \"top-left\") {\r\n          bullet.move(-3, -10);\r\n        } else if (bullet.type === \"top-right\") {\r\n          bullet.move(3, -10);\r\n        } else {\r\n          bullet.move(0, -10);\r\n        }\r\n\r\n        bullet.checkBounds(this.app);\r\n        if (bullet.sprite.y < -bullet.sprite.height || bullet.destroyed) {\r\n          // Remove the bullet if it goes beyond the top edge of the screen or is destroyed\r\n          this.app.stage.removeChild(bullet.sprite);\r\n          this.playerBullets.splice(i, 1);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  updateHP() {\r\n    this.hpElement.innerText = `Life Token: ${this.hp}`;\r\n  }\r\n  upgradeWeapon() {\r\n    const bulletTexture = PIXI.Texture.from(\"./src/assets/playerbullet.png\");\r\n\r\n    // Create a new bullet every second\r\n    if (this.score.enemyKillCount > 5) {\r\n      this.weaponLevel++;\r\n      clearInterval(this.currentWeapon);\r\n      this.currentWeapon = setInterval(() => {\r\n        const bullet1 = new Bullet(\r\n          this.sprite.x - this.sprite.width / 3,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\",\r\n          this.app,\r\n          \"top-left\"\r\n        );\r\n        const bullet2 = new Bullet(\r\n          this.sprite.x,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\",\r\n          this.app,\r\n          \"straight-top\"\r\n        );\r\n        const bullet3 = new Bullet(\r\n          this.sprite.x + this.sprite.width / 3,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\",\r\n          this.app,\r\n          \"top-right\"\r\n        );\r\n\r\n        this.app.stage.addChild(bullet1.sprite, bullet2.sprite, bullet3.sprite);\r\n        this.playerBullets.push(bullet1, bullet2, bullet3);\r\n      }, 700);\r\n    } else if (this.score.enemyKillCount > 3) {\r\n      this.weaponLevel++;\r\n      clearInterval(this.currentWeapon);\r\n      this.currentWeapon = setInterval(() => {\r\n        const bullet = new Bullet(\r\n          this.sprite.x + this.sprite.width / 3,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\"\r\n        );\r\n        const bullet2 = new Bullet(\r\n          this.sprite.x - this.sprite.width / 3,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\"\r\n        );\r\n        this.app.stage.addChild(bullet.sprite, bullet2.sprite);\r\n        this.playerBullets.push(bullet, bullet2);\r\n      }, 700);\r\n    } else if (this.score.enemyKillCount > 1) {\r\n      this.weaponLevel++;\r\n      clearInterval(this.currentWeapon);\r\n      this.currentWeapon = setInterval(() => {\r\n        const bullet = new Bullet(\r\n          this.sprite.x,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\"\r\n        );\r\n        this.app.stage.addChild(bullet.sprite);\r\n        this.playerBullets.push(bullet);\r\n      }, 700);\r\n    } else {\r\n      clearInterval(this.currentWeapon);\r\n      this.currentWeapon = setInterval(() => {\r\n        const bullet = new Bullet(\r\n          this.sprite.x,\r\n          this.sprite.y - this.sprite.height / 2,\r\n          bulletTexture,\r\n          \"up\"\r\n        );\r\n        this.app.stage.addChild(bullet.sprite);\r\n        this.playerBullets.push(bullet);\r\n      }, 1000);\r\n    }\r\n\r\n    // Update the weapon level based on the score\r\n    if (this.score.enemyKillCount > 5) {\r\n      this.weaponLevel = 4;\r\n    } else if (this.score.enemyKillCount > 3) {\r\n      this.weaponLevel = 3;\r\n    } else if (this.score.enemyKillCount > 1) {\r\n      this.weaponLevel = 2;\r\n    } else {\r\n      this.weaponLevel = 1;\r\n    }\r\n\r\n    // Update the HUD element if the weapon level has changed\r\n\r\n    document.getElementById(\r\n      \"weapon-level\"\r\n    ).innerText = `Current Weapon: ${this.weaponLevel}`;\r\n  }\r\n\r\n  handleKeyboard(keys) {\r\n    if ((keys[\"w\"] || keys[\"W\"]) && this.sprite.y - this.speed > 0) {\r\n      this.move(0, -this.speed);\r\n    }\r\n\r\n    if (\r\n      (keys[\"s\"] || keys[\"S\"]) &&\r\n      this.sprite.y + this.speed < this.app.view.height\r\n    ) {\r\n      this.move(0, this.speed);\r\n    }\r\n    if ((keys[\"a\"] || keys[\"A\"]) && this.sprite.x - this.speed > 0) {\r\n      this.move(-this.speed, 0);\r\n    }\r\n\r\n    if (\r\n      (keys[\"d\"] || keys[\"D\"]) &&\r\n      this.sprite.x + this.speed < this.app.view.width\r\n    ) {\r\n      this.move(this.speed, 0);\r\n    }\r\n  }\r\n  checkCollisions(bullets) {\r\n    const padding = 30; // Add padding to expand the range\r\n    if (this.destroyed || this.invulnerable === true) {\r\n      // If the player jet is destroyed, don't check for collisions\r\n      return false;\r\n    }\r\n    for (let i = 0; i < bullets.length; i++) {\r\n      const bullet = bullets[i];\r\n      const expandedBounds = new PIXI.Rectangle(\r\n        this.sprite.getBounds().x - padding / 2,\r\n        this.sprite.getBounds().y,\r\n        this.sprite.getBounds().width + padding,\r\n        this.sprite.getBounds().height\r\n      );\r\n\r\n      if (\r\n        bullet.direction === \"down\" &&\r\n        expandedBounds.contains(bullet.sprite.x, bullet.sprite.y)\r\n      ) {\r\n        this.app.stage.removeChild(bullet.sprite);\r\n        bullets.splice(i, 1);\r\n        return true;\r\n      } else if (bullet.sprite.y > this.app.view.height) {\r\n        this.app.stage.removeChild(bullet.sprite);\r\n        bullets.splice(i, 1);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  spawnNewPlayerJet() {\r\n    this.hp--;\r\n\r\n    const newPlayerJet = new PlayerJet(\r\n      this.app,\r\n      this.app.view.width / 2,\r\n      this.app.screen.height - 50,\r\n      this.sprite.texture,\r\n      this.playerBullets,\r\n      this.score,\r\n      this.hp\r\n    );\r\n\r\n    newPlayerJet.invulnerable = true;\r\n    newPlayerJet.startBlinking();\r\n    setTimeout(() => {\r\n      newPlayerJet.stopBlinking();\r\n      newPlayerJet.invulnerable = false;\r\n    }, newPlayerJet.invulnerableDuration);\r\n\r\n    return newPlayerJet;\r\n  }\r\n\r\n  startBlinking() {\r\n    let isBlinkOn = false;\r\n    this.blinkInterval = setInterval(() => {\r\n      if (isBlinkOn) {\r\n        this.sprite.visible = true;\r\n        isBlinkOn = false;\r\n      } else {\r\n        this.sprite.visible = false;\r\n        isBlinkOn = true;\r\n      }\r\n    }, this.blinkDuration);\r\n  }\r\n\r\n  stopBlinking() {\r\n    clearInterval(this.blinkInterval);\r\n    this.sprite.visible = true;\r\n  }\r\n}\r\n\r\nexport default PlayerJet;\r\n","import MovingObject from \"./MovingObject\";\r\nimport Bullet from \"./bullet\";\r\n\r\nclass EnemyJet extends MovingObject {\r\n  constructor(x, y, texture, enemyBullets, app, type, dx, dy) {\r\n    super(x, y, texture);\r\n    this.speed = 0.5;\r\n    this.enemyBullets = enemyBullets;\r\n    this.app = app;\r\n    this.type = type;\r\n    this.dx = dx;\r\n    this.dy = dy;\r\n    this.bossAlive = true;\r\n    if (this.type === \"common\") {\r\n      this.hp = 1;\r\n    } else if (this.type === \"boss\") {\r\n      this.hp = 100;\r\n    } else if (this.type === \"miniboss\") {\r\n      this.hp = 20;\r\n    }\r\n    this.bulletInterval = null;\r\n    this.fireBullet();\r\n    this.moveTicker = null;\r\n  }\r\n\r\n  fireBullet() {\r\n    // Create a new bullet every 0.5 seconds\r\n    this.bulletInterval = setInterval(() => {\r\n      const bulletTexture = PIXI.Texture.from(\"./src/assets/playerbullet.png\"); // Update the texture\r\n      const bullet = new Bullet(\r\n        this.sprite.x,\r\n        this.sprite.y + this.sprite.height / 2,\r\n        bulletTexture,\r\n        \"down\", // Add direction\r\n        this.app // Add app\r\n      );\r\n      this.app.stage.addChild(bullet.sprite);\r\n      this.enemyBullets.push(bullet);\r\n\r\n      // Add this block to update the enemy bullet's position\r\n      this.app.ticker.add(() => {\r\n        bullet.move(0, 1); // Update the bullet's position\r\n\r\n        // // Remove the bullet if it goes beyond the bottom edge of the screen\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  move(dx, dy) {\r\n    // Remove the existing ticker function if there's any\r\n    if (this.moveTicker) {\r\n      this.app.ticker.remove(this.moveTicker);\r\n    }\r\n\r\n    // Create a new ticker function with the new direction\r\n    this.moveTicker = () => {\r\n      this.sprite.x += this.speed * dx;\r\n      this.sprite.y += this.speed * dy;\r\n    };\r\n\r\n    // Add the new ticker function to the app ticker\r\n    this.app.ticker.add(this.moveTicker);\r\n  }\r\n  checkBounds() {\r\n    if (this.type === \"common\") {\r\n      if (\r\n        this.sprite.y > this.app.view.height + this.sprite.height ||\r\n        this.sprite.x < -this.sprite.width ||\r\n        this.sprite.x > this.app.view.width + this.sprite.width\r\n      ) {\r\n        return true;\r\n      }\r\n      // Move the common enemy jet\r\n      this.move(this.dx, this.dy);\r\n    } else {\r\n      if (\r\n        (this.dx < 0 && this.sprite.x <= 10) ||\r\n        (this.dx > 0 && this.sprite.x >= this.app.view.width)\r\n      ) {\r\n        this.dx *= -1;\r\n      }\r\n\r\n      // Move the boss enemy jet\r\n      this.move(this.dx, this.dy);\r\n    }\r\n  }\r\n  checkCollisions(bullets) {\r\n    const padding = 30; // Add padding to expand the range\r\n\r\n    for (let i = 0; i < bullets.length; i++) {\r\n      const bullet = bullets[i];\r\n      const expandedBounds = new PIXI.Rectangle(\r\n        this.sprite.getBounds().x - padding / 2,\r\n        this.sprite.getBounds().y,\r\n        this.sprite.getBounds().width + padding,\r\n        this.sprite.getBounds().height\r\n      );\r\n\r\n      if (\r\n        bullet.direction === \"up\" &&\r\n        expandedBounds.contains(bullet.sprite.x, bullet.sprite.y)\r\n      ) {\r\n        if (this.hp !== 0) {\r\n          this.app.stage.removeChild(bullet.sprite);\r\n          bullets.splice(i, 1);\r\n          this.hp--;\r\n        } else {\r\n          if (this.type === \"boss\") {\r\n            this.bossAlive = false;\r\n          }\r\n          this.app.stage.removeChild(this.sprite);\r\n          this.app.stage.removeChild(bullet.sprite);\r\n          bullets.splice(i, 1); // Remove the bullet from the bullets array\r\n          clearInterval(this.bulletInterval);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default EnemyJet;\r\n","import PlayerJet from \"./scripts/PlayerJet\";\r\nimport EnemyJet from \"./scripts/EnemyJet\";\r\n\r\nlet gameStarted = false;\r\nlet defeat = false;\r\nfunction startGame() {\r\n  const bgm = document.querySelector(\"#bgm\");\r\n  const bossBgm = document.querySelector(\"#bossBgm\");\r\n\r\n  // Start playing the BGM when the game starts\r\n  bgm.play();\r\n\r\n  const muteButton = document.getElementById(\"muteButton\");\r\n\r\n  muteButton.addEventListener(\"click\", () => {\r\n    const isMuted = bgm.muted || bossBgm.muted;\r\n\r\n    if (isMuted) {\r\n      bgm.muted = false;\r\n      bossBgm.muted = false;\r\n      muteButton.innerText = \"Mute\";\r\n    } else {\r\n      bgm.muted = true;\r\n      bossBgm.muted = true;\r\n      muteButton.innerText = \"Unmute\";\r\n    }\r\n  });\r\n  const app = new PIXI.Application({\r\n    width: 800,\r\n    height: 600,\r\n    backgroundColor: 0x1099bb,\r\n  });\r\n  //////////////////////////////create gameboard//////////////////////////////////\r\n  document.getElementById(\"main\").appendChild(app.view);\r\n  async function setup() {\r\n    const bgTextures = [\r\n      await PIXI.Assets.load(\"./src/assets/bg1.png\"),\r\n      await PIXI.Assets.load(\"./src/assets/bg2.png\"),\r\n      await PIXI.Assets.load(\"./src/assets/bg3.png\"),\r\n    ];\r\n\r\n    const baseBackground = new PIXI.Sprite(bgTextures[0]);\r\n    app.stage.addChild(baseBackground);\r\n\r\n    const changingBackgrounds = [\r\n      new PIXI.Sprite(bgTextures[1]),\r\n      new PIXI.Sprite(bgTextures[2]),\r\n    ];\r\n\r\n    changingBackgrounds.forEach((bg, index) => {\r\n      bg.alpha = index === 0 ? 1 : 0;\r\n      app.stage.addChild(bg);\r\n    });\r\n\r\n    let fadeIn = true;\r\n    let currentBgIndex = 0;\r\n    let nextBgIndex = 1;\r\n\r\n    app.ticker.add(() => {\r\n      if (fadeIn) {\r\n        changingBackgrounds[nextBgIndex].alpha += 0.005;\r\n        if (changingBackgrounds[nextBgIndex].alpha >= 1) {\r\n          fadeIn = false;\r\n          currentBgIndex = (currentBgIndex + 1) % changingBackgrounds.length;\r\n          nextBgIndex = (currentBgIndex + 1) % changingBackgrounds.length;\r\n        }\r\n      } else {\r\n        changingBackgrounds[currentBgIndex].alpha -= 0.005;\r\n        if (changingBackgrounds[currentBgIndex].alpha <= 0) {\r\n          fadeIn = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  setup();\r\n  ///////////////fading background///////////////////////\r\n  const playerTexture = PIXI.Texture.from(\"./src/assets/playerjet.png\");\r\n  const playerBullets = [];\r\n  const enemyBullets = [];\r\n  const score = {\r\n    enemyKillCount: 0,\r\n  };\r\n\r\n  let player = new PlayerJet(\r\n    app,\r\n    app.view.width / 2,\r\n    app.view.height - 50,\r\n    playerTexture,\r\n    playerBullets,\r\n    score,\r\n    5\r\n  );\r\n  const keys = {};\r\n  let isPaused = false;\r\n  function isAudioPlaying(audio) {\r\n    return (\r\n      audio.currentTime > 0 &&\r\n      !audio.paused &&\r\n      !audio.ended &&\r\n      audio.readyState > 2\r\n    );\r\n  }\r\n  document.addEventListener(\"keydown\", (e) => {\r\n    if (e.key === \"P\" || e.key === \"p\") {\r\n      if (isPaused) {\r\n        app.ticker.start();\r\n        if (isAudioPlaying(bossBgm)) {\r\n          bossBgm.resume();\r\n        } else if (!isAudioPlaying(bgm)) {\r\n          if (bossJet) {\r\n            bossBgm.play();\r\n          } else {\r\n            bgm.play();\r\n          }\r\n        }\r\n      } else {\r\n        app.ticker.stop();\r\n        if (isAudioPlaying(bossBgm)) {\r\n          bossBgm.pause();\r\n        } else if (isAudioPlaying(bgm)) {\r\n          bgm.pause();\r\n        }\r\n      }\r\n      isPaused = !isPaused;\r\n    } else {\r\n      keys[e.key] = true;\r\n    }\r\n  });\r\n  document.addEventListener(\"keyup\", (e) => {\r\n    keys[e.key] = false;\r\n  });\r\n  let bossJet = null;\r\n  function checkGameState() {\r\n    if (defeat) {\r\n      app.ticker.stop();\r\n      displayDefeatPicture();\r\n      bossBgm.pause();\r\n      bgm.play();\r\n    } else if (bossJet) {\r\n      if (!bossJet.bossAlive) {\r\n        app.ticker.stop();\r\n        displayVictoryPicture();\r\n        bossBgm.pause();\r\n        bgm.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  function displayDefeatPicture() {\r\n    let gameContainer = document.getElementById(\"gameContainer\");\r\n\r\n    // clear the gameContainer\r\n    gameContainer.innerHTML = \"\";\r\n\r\n    // create a new container for the image and text\r\n    let imageContainer = document.createElement(\"div\");\r\n    imageContainer.style.position = \"relative\";\r\n    imageContainer.style.display = \"flex\";\r\n    imageContainer.style.justifyContent = \"center\";\r\n    imageContainer.style.alignItems = \"center\";\r\n    imageContainer.style.width = \"100%\";\r\n    imageContainer.style.height = \"100%\";\r\n\r\n    // create the defeat image\r\n    let defeatImage = document.createElement(\"img\");\r\n    defeatImage.src = \"./src/assets/defeat.png\";\r\n    defeatImage.alt = \"Defeat\";\r\n    defeatImage.style.display = \"block\";\r\n    defeatImage.style.width = \"100%\";\r\n    defeatImage.style.height = \"auto\";\r\n\r\n    // create the defeat message\r\n    let defeatMessage = document.createElement(\"h2\");\r\n    defeatMessage.innerHTML = \"Defeat...<br>Press Y to restart\";\r\n    defeatMessage.style.position = \"absolute\";\r\n    defeatMessage.style.textAlign = \"center\";\r\n    defeatMessage.style.zIndex = \"1\";\r\n    defeatMessage.style.fontFamily = \"'Orbitron', sans-serif\";\r\n    defeatMessage.style.fontSize = \"48px\";\r\n    defeatMessage.style.color = \"white\";\r\n    defeatMessage.style.textShadow =\r\n      \"0 0 5px #ff0000, 0 0 10px #ff0000, 0 0 15px #ff0000, 0 0 20px #ff3300, 0 0 30px #ff3300, 0 0 40px #ff3300\";\r\n\r\n    // append elements to the gameContainer\r\n    imageContainer.appendChild(defeatImage);\r\n    imageContainer.appendChild(defeatMessage);\r\n    gameContainer.appendChild(imageContainer);\r\n  }\r\n  function displayVictoryPicture() {\r\n    let gameContainer = document.getElementById(\"gameContainer\");\r\n\r\n    // clear the gameContainer\r\n    gameContainer.innerHTML = \"\";\r\n\r\n    // create a new container for the image and text\r\n    let imageContainer = document.createElement(\"div\");\r\n    imageContainer.style.position = \"relative\";\r\n    imageContainer.style.display = \"flex\";\r\n    imageContainer.style.justifyContent = \"center\";\r\n    imageContainer.style.alignItems = \"center\";\r\n    imageContainer.style.width = \"100%\";\r\n    imageContainer.style.height = \"100%\";\r\n\r\n    // create the victory image\r\n    let victoryImage = document.createElement(\"img\");\r\n    victoryImage.src = \"./src/assets/victory.png\";\r\n    victoryImage.alt = \"Victory\";\r\n    victoryImage.style.display = \"block\";\r\n    victoryImage.style.width = \"100%\";\r\n    victoryImage.style.height = \"auto\";\r\n\r\n    // create the victory message\r\n    let victoryMessage = document.createElement(\"h2\");\r\n    victoryMessage.innerHTML = \"Victory!!!<br>Press Y to restart\";\r\n    victoryMessage.style.position = \"absolute\";\r\n    victoryMessage.style.textAlign = \"center\";\r\n    victoryMessage.style.zIndex = \"1\";\r\n    victoryMessage.style.fontFamily = \"'Orbitron', sans-serif\";\r\n    victoryMessage.style.fontSize = \"48px\";\r\n    victoryMessage.style.color = \"white\";\r\n    victoryMessage.style.textShadow =\r\n      \"0 0 5px #ff0000, 0 0 10px #ff0000, 0 0 15px #ff0000, 0 0 20px #ff3300, 0 0 30px #ff3300, 0 0 40px #ff3300\";\r\n\r\n    // append elements to the gameContainer\r\n    imageContainer.appendChild(victoryImage);\r\n    imageContainer.appendChild(victoryMessage);\r\n    gameContainer.appendChild(imageContainer);\r\n  }\r\n  ////////////////////////////to set the player can hold on to key to keep moving on the direction/////////////\r\n  app.ticker.add(() => {\r\n    if (!player.destroyed) {\r\n      player.handleKeyboard(keys);\r\n      app.stage.addChild(player.sprite);\r\n    }\r\n\r\n    /////////////////////////////added player jet///////////////////////////////\r\n  });\r\n  ///////////////////remove enemy jet if it got hit by player bullet//////////////\r\n  const enemyJetTexture = PIXI.Texture.from(\"./src/assets/jet.png\");\r\n  const miniBossJetTexture = PIXI.Texture.from(\"./src/assets/miniboss.png\");\r\n  const bossJetTexture = PIXI.Texture.from(\"./src/assets/boss.png\");\r\n\r\n  const enemyJets = [];\r\n\r\n  // Add this function to spawn a group of 5 enemy jets\r\n  // function spawnEnemyJets() {\r\n  //   for (let i = 0; i < 1; i++) {\r\n  //     const enemyJet = new EnemyJet(\r\n  //       app.view.width,\r\n  //       (Math.random() * app.view.height) / 3,\r\n  //       enemyJetTexture,\r\n  //       enemyBullets,\r\n  //       app,\r\n  //       \"common\",\r\n  //       -1,\r\n  //       0\r\n  //     );\r\n  //     enemyJets.push(enemyJet);\r\n  //     app.stage.addChild(enemyJet.sprite);\r\n  //   }\r\n  // }\r\n  function spawnMiniBoss() {\r\n    const miniBossJet = new EnemyJet(\r\n      app.view.width,\r\n      app.view.height / 4,\r\n      miniBossJetTexture,\r\n      enemyBullets,\r\n      app,\r\n      \"miniboss\",\r\n      -1,\r\n      0\r\n    );\r\n    app.stage.addChild(miniBossJet.sprite);\r\n    enemyJets.push(miniBossJet);\r\n  }\r\n\r\n  function spawnBossJets() {\r\n    bossJet = new EnemyJet(\r\n      app.view.width,\r\n      -50,\r\n      bossJetTexture,\r\n      enemyBullets,\r\n      app,\r\n      \"boss\",\r\n      -1,\r\n      0\r\n    );\r\n    app.stage.addChild(bossJet.sprite);\r\n    enemyJets.push(bossJet);\r\n  }\r\n\r\n  const totalWaves = 2;\r\n  const enemiesPerWave = 10;\r\n  const miniBossInterval = 10 * 1000; // 10 seconds\r\n  const bossSpawnInterval = 10 * 1000; // 10 seconds\r\n  const commonJetInterval = 2 * 1000; // 2 seconds\r\n\r\n  // Track the current wave and enemy.\r\n  let currentWave = 0;\r\n  let currentEnemy = 0;\r\n\r\n  // Use setInterval to spawn enemies.\r\n  const spawnInterval = setInterval(() => {\r\n    // If we've spawned all enemies for the current wave...\r\n    if (currentEnemy >= enemiesPerWave) {\r\n      // Reset the enemy count.\r\n      currentEnemy = 0;\r\n\r\n      // Increase the wave count.\r\n      currentWave++;\r\n\r\n      // If we've spawned all waves, spawn the boss and clear the interval.\r\n      if (currentWave > totalWaves) {\r\n        spawnBossJets();\r\n        bgm.pause();\r\n        bossBgm.play();\r\n        clearInterval(spawnInterval);\r\n        return;\r\n      }\r\n\r\n      // Otherwise, spawn a mini boss and pause before the next wave.\r\n      spawnMiniBoss();\r\n\r\n      // Wait for the mini boss interval before spawning the next wave.\r\n      setTimeout(() => {\r\n        // Continue spawning enemies for the next wave.\r\n        spawnEnemiesForWave(currentWave);\r\n      }, miniBossInterval);\r\n\r\n      return;\r\n    }\r\n\r\n    // Spawn enemies for the current wave.\r\n    spawnEnemiesForWave(currentWave);\r\n\r\n    // Increase the enemy count.\r\n    currentEnemy++;\r\n  }, bossSpawnInterval);\r\n\r\n  function spawnEnemiesForWave(wave) {\r\n    // Depending on the wave, spawn enemies from the right or left.\r\n    const spawnDirection = wave % 2 === 0 ? \"right\" : \"left\";\r\n\r\n    // Use setInterval to spawn common jets every 2 seconds.\r\n    const commonJetSpawnInterval = setInterval(() => {\r\n      spawnEnemyJets(spawnDirection);\r\n      currentEnemy++;\r\n\r\n      // If we've spawned all enemies for the current wave, clear the interval.\r\n      if (currentEnemy >= enemiesPerWave) {\r\n        clearInterval(commonJetSpawnInterval);\r\n      }\r\n    }, commonJetInterval);\r\n  }\r\n\r\n  function spawnEnemyJets(direction) {\r\n    for (let i = 0; i < 1; i++) {\r\n      const enemyJet = new EnemyJet(\r\n        direction === \"right\" ? app.view.width : 0,\r\n        (Math.random() * app.view.height) / 3,\r\n        enemyJetTexture,\r\n        enemyBullets,\r\n        app,\r\n        \"common\",\r\n        direction === \"right\" ? -1 : 1,\r\n        0\r\n      );\r\n      enemyJets.push(enemyJet);\r\n      app.stage.addChild(enemyJet.sprite);\r\n    }\r\n  }\r\n\r\n  // Modify the spawnBossJets function to spawn from the top.\r\n\r\n  app.ticker.add(() => {\r\n    enemyJets.forEach((enemyJet, i) => {\r\n      const collided = enemyJet.checkCollisions(playerBullets);\r\n\r\n      if (collided) {\r\n        score.enemyKillCount++;\r\n        // document.getElementById(\"scoreValue\").innerHTML = score.enemyKillCount;\r\n        document.getElementById(\r\n          \"scoreValue\"\r\n        ).innerText = `Score: ${score.enemyKillCount}`;\r\n\r\n        player.upgradeWeapon();\r\n\r\n        // Remove the destroyed enemy jet from the array\r\n        enemyJets.splice(i, 1);\r\n\r\n        // Remove the enemy jet sprite\r\n        app.stage.removeChild(enemyJet.sprite);\r\n        clearInterval(enemyJet.bulletInterval);\r\n        // Add explosion animation\r\n        const spriteSheet = PIXI.Texture.from(\r\n          \"./src/assets/enemyExplosion.png\"\r\n        );\r\n        const frameWidth = 192;\r\n        const frameHeight = 192;\r\n        const numRows = 4;\r\n        const numCols = 5;\r\n        const explosionTextures = [];\r\n\r\n        for (let row = 0; row < numRows; row++) {\r\n          for (let col = 0; col < numCols; col++) {\r\n            const frameTexture = new PIXI.Texture(\r\n              spriteSheet,\r\n              new PIXI.Rectangle(\r\n                col * frameWidth,\r\n                row * frameHeight,\r\n                frameWidth,\r\n                frameHeight\r\n              )\r\n            );\r\n            explosionTextures.push(frameTexture);\r\n          }\r\n        }\r\n\r\n        const explosionSprite = new PIXI.AnimatedSprite(explosionTextures);\r\n        explosionSprite.anchor.set(0.5);\r\n        explosionSprite.loop = true;\r\n        explosionSprite.animationSpeed = 0.1;\r\n        explosionSprite.visible = true;\r\n        explosionSprite.position.set(enemyJet.sprite.x, enemyJet.sprite.y);\r\n        app.stage.addChild(explosionSprite);\r\n        explosionSprite.play();\r\n\r\n        // Remove explosion animation after 1 second\r\n        setTimeout(() => {\r\n          app.stage.removeChild(explosionSprite);\r\n\r\n          if (bossJet) {\r\n            checkGameState();\r\n          }\r\n        }, 1000);\r\n      }\r\n\r\n      if (enemyJet.checkBounds()) {\r\n        app.stage.removeChild(enemyJet.sprite);\r\n        enemyJets.splice(i, 1); // Remove the enemy jet from the enemyJets array\r\n        clearInterval(enemyJet.bulletInterval);\r\n      }\r\n    });\r\n\r\n    const playerCollided = player.checkCollisions(enemyBullets);\r\n\r\n    if (playerCollided) {\r\n      player.destroyed = true;\r\n      app.stage.removeChild(player.sprite);\r\n      clearInterval(player.currentWeapon);\r\n\r\n      const spriteSheet = PIXI.Texture.from(\"./src/assets/enemyExplosion.png\");\r\n      const frameWidth = 192;\r\n      const frameHeight = 192;\r\n      const numRows = 4;\r\n      const numCols = 5;\r\n      const explosionTextures = [];\r\n\r\n      for (let row = 0; row < numRows; row++) {\r\n        for (let col = 0; col < numCols; col++) {\r\n          const frameTexture = new PIXI.Texture(\r\n            spriteSheet,\r\n            new PIXI.Rectangle(\r\n              col * frameWidth,\r\n              row * frameHeight,\r\n              frameWidth,\r\n              frameHeight\r\n            )\r\n          );\r\n          explosionTextures.push(frameTexture);\r\n        }\r\n      }\r\n\r\n      const explosionSprite = new PIXI.AnimatedSprite(explosionTextures);\r\n      explosionSprite.anchor.set(0.5);\r\n      explosionSprite.loop = true;\r\n      explosionSprite.animationSpeed = 0.1;\r\n      explosionSprite.visible = true;\r\n      explosionSprite.position.set(player.sprite.x, player.sprite.y);\r\n\r\n      app.stage.addChild(explosionSprite);\r\n      explosionSprite.play();\r\n\r\n      // Remove explosion animation after 1 second\r\n      setTimeout(() => {\r\n        app.stage.removeChild(explosionSprite);\r\n        checkGameState();\r\n      }, 1000);\r\n      if (player.hp !== 0) {\r\n        player = player.spawnNewPlayerJet();\r\n      } else {\r\n        defeat = !defeat;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", (event) => {\r\n  if (event.code === \"Space\") {\r\n    if (!gameStarted) {\r\n      gameStarted = true;\r\n      startGame();\r\n      document.getElementById(\"startScreen\").style.display = \"none\";\r\n    }\r\n  }\r\n});\r\ndocument.addEventListener(\"keydown\", (event) => {\r\n  if (event.key.toLowerCase() === \"y\") {\r\n    location.reload();\r\n  }\r\n});\r\n///////////////////hide startpage, start the game/////////////////////////////\r\n"],"names":["constructor","x","y","texture","this","sprite","PIXI","Sprite","anchor","set","setPosition","move","dx","dy","MovingObject","direction","app","type","super","speed","checkBounds","PlayerJet","playerBullets","score","hp","destroyed","weaponLevel","currentWeapon","invulnerable","invulnerableDuration","blinkDuration","blinkInterval","upgradeWeapon","fireBullet","hpElement","document","getElementById","updateHP","ticker","add","i","length","bullet","height","stage","removeChild","splice","innerText","bulletTexture","Texture","from","enemyKillCount","clearInterval","setInterval","bullet1","Bullet","width","bullet2","bullet3","addChild","push","handleKeyboard","keys","view","checkCollisions","bullets","expandedBounds","Rectangle","getBounds","padding","contains","spawnNewPlayerJet","newPlayerJet","screen","startBlinking","setTimeout","stopBlinking","isBlinkOn","visible","enemyBullets","bossAlive","bulletInterval","moveTicker","remove","gameStarted","defeat","addEventListener","event","code","bgm","querySelector","bossBgm","play","muteButton","muted","Application","backgroundColor","appendChild","async","bgTextures","Assets","load","baseBackground","changingBackgrounds","forEach","bg","index","alpha","fadeIn","currentBgIndex","nextBgIndex","setup","playerTexture","player","isPaused","isAudioPlaying","audio","currentTime","paused","ended","readyState","e","key","start","resume","bossJet","stop","pause","checkGameState","gameContainer","innerHTML","imageContainer","createElement","style","position","display","justifyContent","alignItems","defeatImage","src","alt","defeatMessage","textAlign","zIndex","fontFamily","fontSize","color","textShadow","displayDefeatPicture","victoryImage","victoryMessage","displayVictoryPicture","enemyJetTexture","miniBossJetTexture","bossJetTexture","enemyJets","currentWave","currentEnemy","spawnInterval","EnemyJet","miniBossJet","spawnMiniBoss","spawnEnemiesForWave","wave","spawnDirection","commonJetSpawnInterval","enemyJet","Math","random","spawnEnemyJets","spriteSheet","frameWidth","frameHeight","numRows","numCols","explosionTextures","row","col","frameTexture","explosionSprite","AnimatedSprite","loop","animationSpeed","startGame","toLowerCase","location","reload"],"sourceRoot":""}